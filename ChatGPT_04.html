<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Fancy Text Transition</title>
<style>
  :root{
    --bg0:#070812;
    --bg1:#0b1230;
    --txt:#eaf0ff;
    --muted:rgba(234,240,255,.7);
    --accent:#8cffd1;
    --accent2:#7aa7ff;
    --accent3:#ff6bd6;

    --dur-out:520ms;
    --dur-in:760ms;
    --ease-out:cubic-bezier(.22,.9,.12,1);
    --ease-in:cubic-bezier(.2,.9,.2,1);
  }

  html,body{height:100%}
  body{
    margin:0;
    display:grid;
    place-items:center;
    background:
      radial-gradient(1200px 600px at 15% 20%, rgba(122,167,255,.18), transparent 60%),
      radial-gradient(900px 500px at 85% 70%, rgba(255,107,214,.14), transparent 55%),
      linear-gradient(180deg, var(--bg0), var(--bg1));
    color:var(--txt);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  }

  .wrap{
    width:min(980px, 92vw);
    padding:48px 28px;
  }

  .kicker{
    letter-spacing:.18em;
    text-transform:uppercase;
    font-weight:600;
    font-size:12px;
    color:var(--muted);
    margin-bottom:18px;
  }

  .headline{
    display:flex;
    flex-wrap:wrap;
    align-items:baseline;
    gap:.35ch;
    line-height:1.05;
    font-weight:800;
    font-size:clamp(34px, 5.4vw, 74px);
  }

  .static{
    opacity:.92;
  }

  /* The animated word/phrase container */
  .flipword{
    position:relative;
    display:inline-block;
    perspective: 1100px;
    transform-style:preserve-3d;
    padding:.02em .1em;
    border-radius:12px;
  }

  /* subtle “glass” backing */
  .flipword::before{
    content:"";
    position:absolute;
    inset:-.08em -.12em;
    border-radius:14px;
    background: linear-gradient(90deg, rgba(122,167,255,.14), rgba(255,107,214,.12), rgba(140,255,209,.12));
    border:1px solid rgba(255,255,255,.10);
    filter: blur(0px);
    opacity:.55;
    pointer-events:none;
  }

  /* shimmer */
  .flipword::after{
    content:"";
    position:absolute;
    inset:-.08em -.12em;
    border-radius:14px;
    background:
      linear-gradient(120deg,
        transparent 0%,
        rgba(255,255,255,.20) 20%,
        transparent 40%,
        transparent 100%);
    transform: translateX(-60%);
    opacity:.0;
    pointer-events:none;
  }

  .flipword[data-anim="in"]::after{
    opacity:.55;
    animation: shimmer 900ms var(--ease-in) both;
  }

  @keyframes shimmer{
    from{transform:translateX(-70%)}
    to{transform:translateX(70%)}
  }

  .stage{
    position:relative;
    display:inline-block;
    transform-style:preserve-3d;
    white-space:nowrap;
  }

  .phrase{
    position:relative;
    display:inline-block;
    padding:.02em .08em;
    border-radius:12px;
    will-change: transform, filter, opacity;
  }

  /* gradient text */
  .phrase .txt{
    background: linear-gradient(90deg, var(--accent), var(--accent2), var(--accent3));
    -webkit-background-clip:text;
    background-clip:text;
    color:transparent;
    text-shadow: 0 0 18px rgba(122,167,255,.08);
  }

  /* split into two layers (top/bottom) for 3D “tear” */
  .slice{
    position:absolute;
    left:0; top:0;
    width:100%;
    overflow:hidden;
    pointer-events:none;
    will-change: transform, filter, opacity;
  }
  .slice.top{ height:50%; }
  .slice.bot{ height:50%; top:50%; }

  .slice .txt{
    display:block;
  }
  .slice.bot .txt{ transform: translateY(-50%); }

  /* OUT animation */
  .is-out .slice.top{
    transform-origin: 50% 100%;
    animation: outTop var(--dur-out) var(--ease-out) both;
  }
  .is-out .slice.bot{
    transform-origin: 50% 0%;
    animation: outBot var(--dur-out) var(--ease-out) both;
  }
  .is-out .base{
    animation: outBase var(--dur-out) var(--ease-out) both;
  }

  @keyframes outTop{
    to{ transform: translateY(-.06em) rotateX(65deg); opacity:0; filter: blur(8px); }
  }
  @keyframes outBot{
    to{ transform: translateY(.06em) rotateX(-65deg); opacity:0; filter: blur(8px); }
  }
  @keyframes outBase{
    to{ opacity:0; filter: blur(10px); transform: translateZ(-40px) scale(.98); }
  }

  /* IN animation */
  .is-in .slice.top{
    transform-origin: 50% 100%;
    animation: inTop var(--dur-in) var(--ease-in) both;
  }
  .is-in .slice.bot{
    transform-origin: 50% 0%;
    animation: inBot var(--dur-in) var(--ease-in) both;
  }
  .is-in .base{
    animation: inBase var(--dur-in) var(--ease-in) both;
  }

  @keyframes inTop{
    from{ transform: translateY(.08em) rotateX(-70deg); opacity:0; filter: blur(10px); }
    to{ transform: translateY(0) rotateX(0deg); opacity:1; filter: blur(0px); }
  }
  @keyframes inBot{
    from{ transform: translateY(-.08em) rotateX(70deg); opacity:0; filter: blur(10px); }
    to{ transform: translateY(0) rotateX(0deg); opacity:1; filter: blur(0px); }
  }
  @keyframes inBase{
    from{ opacity:0; filter: blur(10px); transform: translateZ(-60px) scale(.985); }
    to{ opacity:1; filter: blur(0px); transform: translateZ(0) scale(1); }
  }

  /* accessibility */
  @media (prefers-reduced-motion: reduce){
    .flipword::after, .is-in .slice, .is-out .slice, .is-in .base, .is-out .base{
      animation: none !important;
    }
  }

  /* small helper row */
  .row{
    margin-top:18px;
    display:flex;
    gap:12px;
    flex-wrap:wrap;
    align-items:center;
    color:var(--muted);
    font-size:14px;
  }
  button{
    appearance:none;
    border:1px solid rgba(255,255,255,.14);
    background: rgba(255,255,255,.06);
    color:var(--txt);
    padding:10px 14px;
    border-radius:12px;
    font-weight:650;
    cursor:pointer;
    transition: transform .15s ease, background .2s ease;
  }
  button:hover{ transform: translateY(-1px); background: rgba(255,255,255,.09); }
  button:active{ transform: translateY(0px); }
</style>
</head>
<body>
  <div class="wrap">
    <div class="kicker">Fancy Text Transition</div>

    <div class="headline">
      <span class="static">Build</span>

      <span class="flipword" id="flip" aria-live="polite">
        <!-- current phrase is injected here -->
      </span>

      <span class="static">interfaces.</span>
    </div>

    <div class="row">
      <button id="next">Next</button>
      <span>Auto-cycles every 2.2s (pause on hover / focus).</span>
    </div>
  </div>

<script>
(() => {
  const phrases = [
    "beautiful",
    "bold",
    "buttery-smooth",
    "modern",
    "high-impact",
    "premium"
  ];

  const flip = document.getElementById("flip");
  const nextBtn = document.getElementById("next");

  let i = 0;
  let timer = null;
  let locked = false;

  function buildPhrase(text, stateClass){
    // base layer (for width & selection)
    const base = document.createElement("span");
    base.className = "phrase base";
    base.innerHTML = `<span class="txt">${text}</span>`;

    // top/bottom slices
    const top = document.createElement("span");
    top.className = "slice top";
    top.innerHTML = `<span class="txt">${text}</span>`;

    const bot = document.createElement("span");
    bot.className = "slice bot";
    bot.innerHTML = `<span class="txt">${text}</span>`;

    const stage = document.createElement("span");
    stage.className = `stage ${stateClass}`;
    stage.append(base, top, bot);
    return stage;
  }

  function setAnimFlag(flag){
    flip.setAttribute("data-anim", flag);
    // clear after shimmer ends
    if(flag){
      setTimeout(() => flip.removeAttribute("data-anim"), 950);
    }
  }

  function showInitial(){
    flip.innerHTML = "";
    flip.appendChild(buildPhrase(phrases[i], "is-in"));
    setAnimFlag("in");
  }

  function cycle(toIndex){
    if(locked) return;
    locked = true;

    const current = flip.querySelector(".stage");
    const outgoing = current ? current.cloneNode(true) : null;

    flip.innerHTML = "";

    if(outgoing){
      outgoing.classList.remove("is-in");
      outgoing.classList.add("is-out");
      flip.appendChild(outgoing);
    }

    // Wait for out, then insert in
    window.setTimeout(() => {
      flip.innerHTML = "";
      flip.appendChild(buildPhrase(phrases[toIndex], "is-in"));
      setAnimFlag("in");

      // unlock after in finishes
      window.setTimeout(() => { locked = false; }, 820);
    }, 540);
  }

  function next(){
    i = (i + 1) % phrases.length;
    cycle(i);
  }

  function start(){
    stop();
    timer = setInterval(next, 2200);
  }
  function stop(){
    if(timer) clearInterval(timer);
    timer = null;
  }

  // init
  showInitial();
  start();

  // controls
  nextBtn.addEventListener("click", () => { next(); start(); });

  // pause on hover/focus for readability
  const pause = () => stop();
  const resume = () => start();

  flip.addEventListener("mouseenter", pause);
  flip.addEventListener("mouseleave", resume);
  flip.addEventListener("focusin", pause);
  flip.addEventListener("focusout", resume);
})();
</script>
</body>
</html>
